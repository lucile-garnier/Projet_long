<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Clustering methods: module_embed Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Clustering methods
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">Implements three clustering algorithms on a parallel code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Modules&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Module&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">module_embed Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains K-means and spectral embedding algorithms.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ab78350f96b04d0ce2ca0bd10abd50440"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemodule__embed.html#ab78350f96b04d0ce2ca0bd10abd50440">apply_spectral_embedding</a> (nb_clusters, n, Z, A, ratio, clusters, clusters_centers, points_by_clusters, clusters_energies, nb_info, proc_id, ratio_moy, ratio_rij, ratio_rii)</td></tr>
<tr class="memdesc:ab78350f96b04d0ce2ca0bd10abd50440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the clusters using eigen vector matrix.  <a href="#ab78350f96b04d0ce2ca0bd10abd50440">More...</a><br /></td></tr>
<tr class="separator:ab78350f96b04d0ce2ca0bd10abd50440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f0555abee781e67c2def5e2b9471d2"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemodule__embed.html#a27f0555abee781e67c2def5e2b9471d2">apply_kmeans</a> (dim, nb_points, nb_clusters, nb_iter_max, nb_iter, points, clusters, clusters_centers, points_by_clusters, clusters_energies, proc_id)</td></tr>
<tr class="memdesc:a27f0555abee781e67c2def5e2b9471d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements K-Means algorithm (required by spectral clustering and Kernel K-Means methods) The algorithm works as follows:  <a href="#a27f0555abee781e67c2def5e2b9471d2">More...</a><br /></td></tr>
<tr class="separator:a27f0555abee781e67c2def5e2b9471d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains K-means and spectral embedding algorithms. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="a27f0555abee781e67c2def5e2b9471d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine module_embed::apply_kmeans </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nb_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nb_clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nb_iter_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nb_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension (dim, nb_points)&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension (nb_points)&#160;</td>
          <td class="paramname"><em>clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension (dim, nb_clusters)&#160;</td>
          <td class="paramname"><em>clusters_centers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension (nb_clusters)&#160;</td>
          <td class="paramname"><em>points_by_clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension (nb_clusters)&#160;</td>
          <td class="paramname"><em>clusters_energies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>proc_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements K-Means algorithm (required by spectral clustering and Kernel K-Means methods) The algorithm works as follows: </p>
<ol>
<li>
Choose <em>nb_clusters</em> starting points as cluster centers randomly </li>
<li>
For each point in the data set, find the minimum distance from a cluster center and attach it to the corresponding cluster </li>
<li>
Compute the density center of each cluster </li>
<li>
Stop if the density centers are similar to the cluster centers </li>
<li>
Select the density centers as new cluster centers and start from the beginning </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">points</td><td>the points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dim</td><td>the number of spatial dimensions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dim</td><td>the number of spatial dimensions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dim</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_clusters</td><td>the number of clusters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_clusters</td><td>the number of clusters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_clusters</td><td>the number of clusters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_iter_max</td><td>the maximum number of iterations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_points</td><td>the number of points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_points</td><td>the number of points </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">clusters_centers</td><td>the cluster centers </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">proc_id</td><td>the processus identifier </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clusters_energies</td><td>the cluster energies </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nb_iter</td><td>the number of iterations taken </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clusters</td><td>indicates which cluster each point belongs to </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">points_by_clusters</td><td>the number of points in each cluster </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodule__embed_a27f0555abee781e67c2def5e2b9471d2_icgraph.png" border="0" usemap="#namespacemodule__embed_a27f0555abee781e67c2def5e2b9471d2_icgraph" alt=""/></div>
<map name="namespacemodule__embed_a27f0555abee781e67c2def5e2b9471d2_icgraph" id="namespacemodule__embed_a27f0555abee781e67c2def5e2b9471d2_icgraph">
<area shape="rect" id="node2" href="namespacemodule__embed.html#ab78350f96b04d0ce2ca0bd10abd50440" title="Computes the clusters using eigen vector matrix. " alt="" coords="223,8,373,49"/><area shape="rect" id="node4" href="namespacemodule__sparse.html#a6fc2f45f94f4ea124ea27f88b8823274" title="Computes the ideal number of clusters using sparsity. " alt="" coords="203,75,393,116"/><area shape="rect" id="node3" href="namespacemodule__calcul.html#a7bf1a318c636b4e204f267103d00114a" title="module_calcul::apply\l_spectral_clustering" alt="" coords="444,5,588,47"/><area shape="rect" id="node5" href="namespacemodule__sparse.html#ac7a222921bd378c5d9d8d41fa05423ad" title="Computes the clusters using spectral clustering algorithm using sparsity. " alt="" coords="441,71,591,127"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab78350f96b04d0ce2ca0bd10abd50440"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine module_embed::apply_spectral_embedding </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nb_clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension(:,:), pointer&#160;</td>
          <td class="paramname"><em>Z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension(:,:), pointer&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision&#160;</td>
          <td class="paramname"><em>ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), pointer&#160;</td>
          <td class="paramname"><em>clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension(:,:), pointer&#160;</td>
          <td class="paramname"><em>clusters_centers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), pointer&#160;</td>
          <td class="paramname"><em>points_by_clusters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension(:), pointer&#160;</td>
          <td class="paramname"><em>clusters_energies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nb_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>proc_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision&#160;</td>
          <td class="paramname"><em>ratio_moy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision&#160;</td>
          <td class="paramname"><em>ratio_rij</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision&#160;</td>
          <td class="paramname"><em>ratio_rii</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the clusters using eigen vector matrix. </p>
<p>The first part of the method performs the following: </p><ol>
<li>
Extract the <em>nb_clusters</em> first columns of the eigen vector matrix (corresponding to the highest eigen values) </li>
<li>
Normalize the matrix and transposes it  </li>
<li>
Apply K-Means on it to find the clusters  </li>
</ol>
<p>Then it operates a quality measurement on the found clusters. It computes the sum of the ratios that indicate if the number of clusters is optimal. The lower this sum is, the best is the number of clusters. This method also compute the number of clusters that have at least one point and that have an internal affinity greater than zero. </p><dl class="section note"><dt>Note</dt><dd>We refer you to the article <em>"On a strategy for Spectral Clustering with parallel computation"</em> for a better understanding. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">A</td><td>the affinity matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Z</td><td>the matrix of eigen vectors </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_clusters</td><td>the number of clusters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_clusters</td><td>the number of clusters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_clusters</td><td>the number of clusters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">proc_id</td><td>the processus identifier </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clusters_centers</td><td>the cluster centers </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clusters_energies</td><td>the cluster energies </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ratio</td><td>the sum of the ratios between Frobenius norm of the off-diagonal and the diagonal blocks of the normalized affinity matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ratio_moy</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ratio_rii</td><td>the sum of the denominator of each ratio </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ratio_rij</td><td>the sum of the numerators of each ratio </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nb_info</td><td>the reduced number of clusters (?) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">clusters</td><td>indicates which cluster each point belongs to </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">points_by_clusters</td><td>the number of points in each cluster </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_cgraph.png" border="0" usemap="#namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_cgraph" alt=""/></div>
<map name="namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_cgraph" id="namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_cgraph">
<area shape="rect" id="node2" href="namespacemodule__embed.html#a27f0555abee781e67c2def5e2b9471d2" title="Implements K&#45;Means algorithm (required by spectral clustering and Kernel K&#45;Means methods) The algorit..." alt="" coords="203,5,352,47"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_icgraph.png" border="0" usemap="#namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_icgraph" alt=""/></div>
<map name="namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_icgraph" id="namespacemodule__embed_ab78350f96b04d0ce2ca0bd10abd50440_icgraph">
<area shape="rect" id="node2" href="namespacemodule__calcul.html#a7bf1a318c636b4e204f267103d00114a" title="module_calcul::apply\l_spectral_clustering" alt="" coords="203,5,347,47"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 10 2015 17:08:35 for Clustering methods by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
